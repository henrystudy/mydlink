<?xml version="1.0" encoding="UTF-8"?>
<Test xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.mydlink.com/testcase.xsd">
	<testCaseName>forget password</testCaseName>
	<annotation>
		<description>test the forget password page</description>
		<testCaseVersion>5</testCaseVersion>
		<created author="dayu.lei" date="2011-06-14" />
		<lastUpdated author="dayu.lei" date="2011-06-14" />
		<recordInfo deviceIndex="1" account="forgetPassword" />
	</annotation>
	<TestCase>
		<Function command="setLanguage" target="" value=""></Function>
		<!-- Launch the browser. -->
		<!-- Input the address: **www.mydlink.com** (This url could be different according to actual conditions) -->
		<!-- Click "Forgot your password". -->
		<Html command="clickAndWait" target="xml(entrance).xpath.ForgotYourPasswordLink" value="" />
		<Assert expected="xml(request_password).message.titleBar">
			<Html command="getValue" target="xml(request_password).xpath.titleBar" value=""></Html>
		</Assert>
		<!-- Enter the valid email and click “Send” button. -->
		<Html command="type" target="xml(request_password).xpath.emailTextbox" value="account(forgetPassword).email"></Html>
		<Html command="clickAndWait" target="xml(request_password).xpath.send" value=""></Html>
		<Verify expected="xml(request_password).message.Newpsent">
			<Html command="getValue" target="xml(request_password).xpath.Newpsent" value="" />
		</Verify>
		<!-- Go to your mailbox. -->
		<Function command="getEmailInfo" target="forgetPassword" value="" />
		<!-- Check the latest mail. -->
		<Verify expected="email(forgetPassword).mailFromPersonal">
			<Html command="getTarget" target="${mailFromPersonal}" value="" />
		</Verify>

		<!-- Sender e-mail: notification@mydlink.com -->
		<Verify expected="email(forgetPassword).mailFrom">
			<Html command="getTarget" target="${mailFrom}" value="" />
		</Verify>

		<!-- Subject: Your mydlink password has been reset -->
		<Verify expected="email(forgetPassword).subject">
			<Html command="getTarget" target="${subject}" value="" />
		</Verify>

		<!-- E-mail to: The user’s sign-in e-mail account -->
		<Verify expected="account(forgetPassword).email" type="in">
			<Html command="getTarget" target="${mailTo}" value="" />
		</Verify>

		<!-- Contents: -->
		<!-- Hello [user name entered when signing up], -->

		<!-- We have a received a request to reset your mydlink password. -->

		<!-- Please use the password below to sign in to your mydlink account: -->

		<!-- [password generated by server]. -->

		<!-- To keep your information safe, please change your password by selecting Change Password in the My Profile section after signing in to mydlink. -->

		<!-- mydlink.com -->

		<!-- This e-mail message was sent from a notification-only address that cannot accept incoming e-mail. Please do not reply to this message. -->

		<!-- If you have any questions, please contact mydlink customer service at www.mydlink.com/contact/ -->

		<!-- Note: 1. The mail language is the same with the selection in My Profile -"Contact me in: " -->

		<!-- 2. Display this user’s name. -->

		<!-- 3. Display password -->
		<Verify expected="email(forgetPassword).contentText">
			<Html command="getTarget" target="${contentText}" value="" />
		</Verify>


	</TestCase>
</Test>